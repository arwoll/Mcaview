<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>mcaview help</title>


</head>


<body>

<big style="color: rgb(153, 0, 0);"><big><big><small><small>MCAVIEW
HELP PAGE</small></small></big></big></big><p><font size="4">
<a href="mailto:aw30@cornell.edu">Arthur Woll</a> -- 3 March 2006</font><big style="color: rgb(153, 0, 0);"><big><big><small><small><br>

<br>

OVERVIEW: <span style="color: rgb(0, 0, 0);"><font size="3">mcaview is a
graphical
user interface for examining confocal x-ray fluorescence microscopy
data at <a href="http://www.chess.cornell.edu">CHESS</a>. These data consist of one or more spectrum, i.e. a
histogram representing photon counts as a function of energy.&nbsp;
It
is particularly geared towards two- and three-dimensional data sets,
and is designed to allow the most common qualitative analysis tasks
(depth profiles, virtual cross-sections) to be performed quickly and
simply.&nbsp;</font></span><br style="color: rgb(0, 0, 0);">

<br>

QUICK GUIDE:<span style="color: rgb(0, 0, 0);">

</span></small></small></big></big></big>
</p>
<ol>

  <li><span style="color: rgb(0, 0, 0);">Use File-&gt; Open
(autodetect) to select an mca data file generated by a scan in SPEC.
&nbsp;</span></li>

  <li><big style="color: rgb(153, 0, 0);"><span style="color: rgb(0, 0, 0);">
  <font size="3">Once
loaded, some or all of the data is shown in the middle panel of
mcaview. &nbsp;If the scan was a single point or 1D scan, all
spectra
are shown. &nbsp;For mesh scans, only spectra from the first row in
the
mesh are shown. &nbsp;You can browse to other rows using the slider
at
the right.</font></span></big></li>

  <li><span style="color: rgb(0, 0, 0);">Next,
you can use the
mouse to select ROIs on this image. &nbsp;Depending on the
selection in
'Profile Plot Select', this ROI is used to generate I vs. motor, I vs.
Energy, or 2D intensity plots in bottom panel. &nbsp;Tooltips for
the buttons in the lower panel describe their effect on the profiles.</span></li>

</ol>

<font size="4" color="#990000">ANSWERS YOU WILL WANT IF YOU ARE PAYING ATTENTION</font><big style="color: rgb(153, 0, 0);"><big><big><small><small>:</small></small></big></big></big><p>
<font size="4">ENERGY CALIBRATION: </font>Generating a new energy calibration
isn't easy at the moment. &nbsp;But, if you
know the values for the offset and slope for your data, you can enter
them in the upper panel. &nbsp;These will be applied to all the
following data loaded in the session. &nbsp;Here are rough energy
calibrations for some of the most common recent configurations (as of
March 2006):</p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="842">
  <tr>
    <td width="389" align="center"><b>Detector</b></td>
    <td width="163" align="center"><b>Offset
(keV)</b></td>
    <td width="286" align="center"><b>Slope (keV /channel)</b></td>
  </tr>
  <tr>
    <td width="389" align="center">xflash
(CHESS common)</td>

        <td style="text-align: center;" width="163">-0.5</td>

        <td style="text-align: center;" width="286">0.02</td>

        </tr>
  <tr>
    <td width="389" align="center">vortex (1
microsecond shaping time)</td>
    <td width="163" align="center">0</td>
    <td width="286" align="center">0.01</td>
  </tr>
  <tr>
    <td width="389" align="center">vortex (2
microsecond shaping time)</td>
    <td width="163" align="center">0</td>
    <td width="286" align="center">0.0091</td>
  </tr>
</table>
<p><font size="4">BINARY FILES: </font>Whenever a raw data file is opened, the 
mca data and spec data (counters, motor positions, etc.) are loaded into a 
single data structure (scandata). By default, this variable is saved to a binary 
file (extension .mat) with the same base filename as the mca file. Subsequently, 
this file can be loaded instead of the raw file, which is much faster, 
especially for large data sets.&nbsp; If a&nbsp; raw data file is loaded more 
than once, the can is prompted whether or not to overwrite the existing binary 
file.&nbsp; Among the parameters saved in the binary file are the energy 
calibration parameters.&nbsp; If you change these parameters and want these 
changes reflected in the binary file, use File-&gt;Save scan to *.mat.&nbsp; </p>
<p><font size="4">EXPORT VARIABLES: </font>When mcaview is run from within 
matlab, you have the option of sending certain of mcaview's internal variables 
to the main matlab workspace for scrutiny. As mentioned above, the variable 'scandata' 
is a structure containing all of the mca- and spec data&nbsp; for a particular 
scan.&nbsp; For example, scandata.mcadata holds all of the mca data, reshaped to 
match the scan dimensions.&nbsp; 'profiles' contains the profile or profiles 
plotted in the lower panel of mcaview.&nbsp;

<br>

</p>
<p>DATA FORMATS: mcaview, by design, requires information about the spec scan 
that generated the mca data, along with that data.&nbsp; There are variety of 
ways that the mca- and spec data files are related. In addition, mcaview must 
know things like the number of mca&nbsp; channels stored, and the appropriate 
dead-time correction method.&nbsp;&nbsp;

<br>

</p>
<p><font size="4" color="#990000">USER MANUAL: </font><font size="4">Stay 
tuned...</font></p>

</body>
</html>